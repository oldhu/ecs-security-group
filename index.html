<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <script src="lib/jquery/jquery-1.11.0.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.min.js"></script>
  <script src="src/main.js"></script>
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="lib/bootstrap/css/custom.css" rel="stylesheet">
  <link href="lib/font-awesome/css/font-awesome.css" rel="stylesheet">
  <title>ECS安全组管理工具</title>
</head>
<body>
  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <i id="spinner" class="fa fa-plug"></i>
      <a type="button" class="btn btn-default navbar-btn" href="editlogin.html">修改认证信息</a>
      <form class="navbar-form navbar-right">
        区域：
        <select class="form-control" id="selectregion">
        </select>
      </form>
    </nav>
    <div class="container-fluid" id="content">
      <table class="table table-hover" id="sg-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
          </tr>
        </thead>
        <tbody id="sg-table-body">
        </tbody>
      </table>
    </div>
    <script language="JavaScript">
    var ECS = require('aliyun-ecs');
    $(document).ready(function() {
      var key = load_key_from_file();
      var ecs = new ECS(key.id, key.secret);
      ecs.beforeRequest = function() {
        $('#spinner').removeClass().addClass("fa fa-spinner fa-spin");
      };
      ecs.afterRequest = function() {
        $('#spinner').removeClass().addClass("fa fa-plug");
      };
      install_select_region_handler(ecs);
      reload_regions(ecs);
    })
    </script>
  </body>
  </html>
